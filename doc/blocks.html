<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="author" content="Severin Meyer">
	<link rel="stylesheet" href="style.css">
	<title>Humble Type Instruction Compiler</title>
</head>
<body>

<header>
	<h1>Humble Type Instruction Compiler</h1>
	<nav>
		<ul>
		<li><a href="index.html">Introduction</a>
		<li><a href="instructions.html">Instructions</a>
		<li><a href="blocks.html" id="current">Blocks</a>
		<li><a href="example.html">Example</a>
		<li><a href="grammar.html">Grammar</a>
		<li><a href="usage.html">Usage</a>
		</ul>
	</nav>
</header>

<main>
	<h2>Blocks</h2>
	<p>
		Humble code is organized in blocks.
		A block starts with a name and encloses its content in curly brackets.
		Depending on the block, the content consists of humble type instructions,
		or represents a related TrueType table.
	</p>

<div id="gasp">
	<h3>GASP</h3>
	<p>
		This block represents the
		<a target="_blank" href="http://www.microsoft.com/typography/otspec/gasp.htm">gasp</a>
		table, version 1.
		Each line starts with a size, followed by the optional flags
		<code>gridfit</code> and <code>gray</code>, which apply up to that size.
	</p>
	<pre><code>gasp<br>{<br>      7           doGray<br>  65535 doGridfit doGray symSmoothing symGridfit<br>}</code></pre>
</div>

<div id="maxp">
	<h3>MAXP</h3>
	<p>
		This block represents the
		<a target="_blank" href="http://www.microsoft.com/typography/otspec/maxp.htm">maxp</a>
		table. Each line starts with a value, followed by its identifier.
		The example lists all supported identifiers.
	</p>
	<pre><code>maxp<br>{<br>   256 maxStackElements<br>    32 maxFunctionDefs<br>    32 maxStorage<br>     2 maxZones<br>    16 maxTwilightPoints<br>}</code></pre>
</div>

<div id="cvt">
	<h3>CVT</h3>
	<p>
		This block represents the
		<a target="_blank" href="http://www.microsoft.com/typography/otspec/cvt.htm">cvt</a>
		table. Each line starts with a control value, followed by its identifier.
	</p>
	<pre><code>cvt<br>{<br>  -80 descender<br>  160 stem<br>  700 cap<br>}</code></pre>
</div>

<div id="flags">
	<h3>Flags</h3>
	<p>
		Writing instruction flags in binary form can be cumbersome.
		Therefore, this block allows to define flag aliases.
		Each line starts with an alias, followed by the corresponding binary value.
	</p>
	<pre><code>flags<br>{<br>  r    1<br>  rnd  1<br>  stem 01101<br>  pMRB 01101<br>}</code></pre>
</div>

<div id="instructions">
	<h3>Instruction Blocks</h3>
	<p>
		Humble type instructions for the
		<a target="_blank" href="http://www.microsoft.com/typography/otspec/fpgm.htm">fpgm</a> and
		<a target="_blank" href="http://www.microsoft.com/typography/otspec/prep.htm">prep</a>
		tables are placed in blocks with the corresponding name.
		Glyph instructions are placed in a block with the name of the glyph,
		as defined by the font.
	</p>
	<pre><code>fpgm<br>{<br>  FDEF setRoundState<br>    RTDG<br>  ENDF<br>}<br><br>prep<br>{<br>  IF ((8 &gt; (MPPEM)) or (GETINFO 0b110))<br>    INSTCTRL 1 1<br>  EIF<br>}<br><br>asciitilde<br>{<br>  CALL setRoundState<br>  MDAP+r 0<br>}</code></pre>
</div>
</main>

<footer>
	This documentation by
	<a target="_blank" href="http://gitlab.com/u/sev">Severin Meyer</a>
	is licensed under the
	<a target="_blank" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
</footer>

</body>
</html>
